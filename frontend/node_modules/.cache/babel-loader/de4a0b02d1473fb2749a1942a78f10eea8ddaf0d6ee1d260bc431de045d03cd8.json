{"ast":null,"code":"var _jsxFileName = \"D:\\\\Escritorio\\\\PraxShopDW\\\\frontend\\\\src\\\\modules\\\\productos\\\\ProductosPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { api } from '../../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProductosPage({\n  categoria\n}) {\n  _s();\n  const [productos, setProductos] = useState([]);\n  const [filtroPrecio, setFiltroPrecio] = useState('todos');\n  useEffect(() => {\n    fetch('http://localhost:3001/api/productos').then(res => res.json()).then(data => {\n      let lista = data;\n      if (categoria) lista = lista.filter(p => p.categoria === categoria);\n      if (filtroPrecio === '0-100') {\n        lista = lista.filter(p => p.precio <= 100);\n      } else if (filtroPrecio === '100-200') {\n        lista = lista.filter(p => p.precio > 100 && p.precio <= 200);\n      } else if (filtroPrecio === '200-300') {\n        lista = lista.filter(p => p.precio > 200 && p.precio <= 300);\n      }\n      setProductos(lista);\n    }).catch(err => console.error('Error productos:', err));\n  }, [categoria, filtroPrecio]);\n\n  // Aquí defines la función\n  const addToCart = prod => {\n    const actual = JSON.parse(localStorage.getItem('carrito') || '[]');\n    actual.push(prod);\n    localStorage.setItem('carrito', JSON.stringify(actual));\n    alert('Producto agregado al carrito');\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"tienda\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: categoria ? `Productos ${categoria}` : 'Todos los productos'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filtros\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filtroPrecio,\n          onChange: e => setFiltroPrecio(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"todos\",\n            children: \"Todos los precios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0-100\",\n            children: \"Q0 - Q100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"100-200\",\n            children: \"Q100 - Q200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"200-300\",\n            children: \"Q200 - Q300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productos-grid\",\n        children: productos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No hay productos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this) : productos.map(prod => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"producto-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:3001/public/${prod.imagen}`,\n            alt: prod.nombre,\n            onError: e => {\n              e.currentTarget.src = 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%23ecf0f1%22 width=%22200%22 height=%22200%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%2395a5a6%22%3EImagen%3C/text%3E%3C/svg%3E';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"categoria\",\n            children: prod.categoria\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: prod.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: prod.descripcion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"precio\",\n            children: [\"Q\", prod.precio.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => addToCart(prod),\n            children: \"Agregar al Carrito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, prod.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductosPage, \"IeAOxc/meYw/EnR2Ma0QewgyHMQ=\");\n_c = ProductosPage;\nexport default ProductosPage;\nvar _c;\n$RefreshReg$(_c, \"ProductosPage\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","ProductosPage","categoria","_s","productos","setProductos","filtroPrecio","setFiltroPrecio","fetch","then","res","json","data","lista","filter","p","precio","catch","err","console","error","addToCart","prod","actual","JSON","parse","localStorage","getItem","push","setItem","stringify","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","length","map","src","imagen","alt","nombre","onError","currentTarget","descripcion","toFixed","onClick","id","_c","$RefreshReg$"],"sources":["D:/Escritorio/PraxShopDW/frontend/src/modules/productos/ProductosPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { api } from '../../api';\r\n\r\nfunction ProductosPage({ categoria }) {\r\n  const [productos, setProductos] = useState([]);\r\n  const [filtroPrecio, setFiltroPrecio] = useState('todos');\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3001/api/productos')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        let lista = data;\r\n        if (categoria) lista = lista.filter(p => p.categoria === categoria);\r\n\r\n        if (filtroPrecio === '0-100') {\r\n          lista = lista.filter(p => p.precio <= 100);\r\n        } else if (filtroPrecio === '100-200') {\r\n          lista = lista.filter(p => p.precio > 100 && p.precio <= 200);\r\n        } else if (filtroPrecio === '200-300') {\r\n          lista = lista.filter(p => p.precio > 200 && p.precio <= 300);\r\n        }\r\n        setProductos(lista);\r\n      })\r\n      .catch(err => console.error('Error productos:', err));\r\n  }, [categoria, filtroPrecio]);\r\n\r\n  // Aquí defines la función\r\n  const addToCart = (prod) => {\r\n    const actual = JSON.parse(localStorage.getItem('carrito') || '[]');\r\n    actual.push(prod);\r\n    localStorage.setItem('carrito', JSON.stringify(actual));\r\n    alert('Producto agregado al carrito');\r\n  };\r\n\r\n  return (\r\n    <section className=\"tienda\">\r\n      <div className=\"container\">\r\n        <h2>{categoria ? `Productos ${categoria}` : 'Todos los productos'}</h2>\r\n\r\n        <div className=\"filtros\">\r\n          <select value={filtroPrecio} onChange={(e) => setFiltroPrecio(e.target.value)}>\r\n            <option value=\"todos\">Todos los precios</option>\r\n            <option value=\"0-100\">Q0 - Q100</option>\r\n            <option value=\"100-200\">Q100 - Q200</option>\r\n            <option value=\"200-300\">Q200 - Q300</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"productos-grid\">\r\n          {productos.length === 0 ? (\r\n            <p>No hay productos</p>\r\n          ) : (\r\n            productos.map((prod) => (\r\n              <div key={prod.id} className=\"producto-card\">\r\n                <img\r\n                  src={`http://localhost:3001/public/${prod.imagen}`}\r\n                  alt={prod.nombre}\r\n                  onError={(e) => {\r\n                    e.currentTarget.src =\r\n                      'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%23ecf0f1%22 width=%22200%22 height=%22200%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%2395a5a6%22%3EImagen%3C/text%3E%3C/svg%3E';\r\n                  }}\r\n                />\r\n                <span className=\"categoria\">{prod.categoria}</span>\r\n                <h3>{prod.nombre}</h3>\r\n                <p>{prod.descripcion}</p>\r\n                <div className=\"precio\">Q{prod.precio.toFixed(2)}</div>\r\n\r\n                {/* Aquí usas la función en el botón */}\r\n                <button onClick={() => addToCart(prod)}>\r\n                  Agregar al Carrito\r\n                </button>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ProductosPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}